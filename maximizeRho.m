function rho = maximizeRho( x )
  x1 = x(1);
  x2 = x(2);
  x3 = x(3);
  x4 = x(3);
  run('initPendulum')
  %notWrong
  %the extra negative-sign is to use fminsearch for maximizing
%   rho = -( -(3.4e-28*(3.4e29*x4 - 2.6e29*x3 + 1.2e28*sin(3.0*x1) +      ...
%             8.6e27*tanh(255.0*x4) - 1.4e30*sin(x1) +                    ...
%             8.5e27*tanh(255.0*x3)*cos(x1) + 4.9e27*x3*cos(2.0*x1) -     ...
%             6.3e27*x4*cos(2.0*x1) - 1.4e26*cos(2.0*x1)*tanh(255.0*x4) + ...
%             5.0e27*x4*cos(x1) + 1.0e26*x4^2*sin(2.0*x1) -               ...
%             1.3e29*x3*x4*sin(x1) + 1.2e27*x3*x4*sin(3.0*x1)))/cos(x1)  );
          
          
   rho =- (l*(M + m - m*cos(x1)^2)*(k2*(x3*x4*sin(x1) -...
          (M*b_p_v*x3 + b_p_v*m*x3 + M*b_p_c*tanh(k_tan*x4) +...
          b_p_c*m*tanh(k_tan*x4) - g*l*m^2*sin(x1) + ...
          b_c_c*l*m*tanh(k_tan*x3)*cos(x1) + l^2*m^2*x4^2*cos(x1)*sin(x1) -...
          M*g*l*m*sin(x1) + b_c_v*l*m*x4*cos(x1))/(l*m*(M + m - m*cos(x1)^2)) +...
          (cos(x1)*(b_p_v*x3*cos(x1) + b_p_c*tanh(k_tan*x4)*cos(x1) + ...
          b_c_v*l*x4 + b_c_c*l*tanh(k_tan*x3) + l^2*m*x4^2*sin(x1) -...
          g*l*m*cos(x1)*sin(x1)))/(l*(M + m - m*cos(x1)^2))) + k1*x4 + k3*x3 -...
          (M*b_p_v*x3 + b_p_v*m*x3 + M*b_p_c*tanh(k_tan*x4) +...
          b_p_c*m*tanh(k_tan*x4) - g*l*m^2*sin(x1) +...
          b_c_c*l*m*tanh(k_tan*x3)*cos(x1) + l^2*m^2*x4^2*cos(x1)*sin(x1) -...
          M*g*l*m*sin(x1) + b_c_v*l*m*x4*cos(x1))/(l^2*m*(M + m -...
          m*cos(x1)^2))))/cos(x1)  ;
end